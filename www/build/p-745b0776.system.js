System.register(["./p-f3667d5f.system.js","./p-2fd5b1c1.system.js","./p-443f0870.system.js"],(function(e){"use strict";var t,n,o,s,i,r;return{setters:[function(e){t=e.g;n=e.c},function(e){o=e.a;s=e.b;i=e.g},function(e){r=e.OVERLAY_BACK_BUTTON_PRIORITY}],execute:function(){let c=0;const a=e("h",new WeakMap);const d=e=>({create(t){return h(e,t)},dismiss(t,n,o){return S(document,t,n,e,o)},async getTop(){return D(document,e)}});const l=e("b",d("ion-alert"));const u=e("a",d("ion-action-sheet"));const f=e("l",d("ion-loading"));const m=e("m",d("ion-modal"));const y=e("p",d("ion-picker"));const p=e("c",d("ion-popover"));const b=e("t",d("ion-toast"));const v=e("e",e=>{if(typeof document!=="undefined"){k(document)}const t=c++;e.overlayIndex=t;if(!e.hasAttribute("id")){e.id=`ion-overlay-${t}`}});const h=(e,t)=>{if(typeof customElements!=="undefined"){return customElements.whenDefined(e).then(()=>{const n=document.createElement(e);n.classList.add("overlay-hidden");Object.assign(n,t);B(document).appendChild(n);return n.componentOnReady()})}return Promise.resolve()};const g='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])';const w="input:not([type=hidden]), textarea, button, select";const x=(e,t)=>{let n=e.querySelector(g);const o=n&&n.shadowRoot;if(o){n=o.querySelector(w)||n}if(n){n.focus()}else{t.focus()}};const A=(e,t)=>{const n=Array.from(e.querySelectorAll(g));let o=n.length>0?n[n.length-1]:null;const s=o&&o.shadowRoot;if(s){o=s.querySelector(w)||o}if(o){o.focus()}else{t.focus()}};const E=(e,t)=>{const n=D(t);const o=e.target;if(!n||!o){return}if(n===o){n.lastFocus=undefined}else{const e=i(n);if(!e.contains(o)){return}const s=e.querySelector(".ion-overlay-wrapper");if(!s){return}if(s.contains(o)){n.lastFocus=o}else{const e=n.lastFocus;x(s,n);if(e===t.activeElement){A(s,n)}n.lastFocus=t.activeElement}}};const k=e=>{if(c===0){c=1;e.addEventListener("focus",t=>E(t,e),true);e.addEventListener("ionBackButton",t=>{const n=D(e);if(n&&n.backdropDismiss){t.detail.register(r,()=>n.dismiss(undefined,_))}});e.addEventListener("keyup",t=>{if(t.key==="Escape"){const t=D(e);if(t&&t.backdropDismiss){t.dismiss(undefined,_)}}})}};const S=(e,t,n,o,s)=>{const i=D(e,o,s);if(!i){return Promise.reject("overlay does not exist")}return i.dismiss(t,n)};const q=(e,t)=>{if(t===undefined){t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"}return Array.from(e.querySelectorAll(t)).filter(e=>e.overlayIndex>0)};const D=(e,t,n)=>{const o=q(e,t);return n===undefined?o[o.length-1]:o.find(e=>e.id===n)};const R=e("d",async(e,o,s,i,r)=>{if(e.presented){return}e.presented=true;e.willPresent.emit();const c=t(e);const a=e.enterAnimation?e.enterAnimation:n.get(o,c==="ios"?s:i);const d=await L(e,a,e.el,r);if(d){e.didPresent.emit()}if(e.el.tagName!=="ION-TOAST"){O(e.el)}if(e.keyboardClose){e.el.focus()}});const O=async e=>{let t=document.activeElement;if(!t){return}const n=t&&t.shadowRoot;if(n){t=n.querySelector(w)||t}await e.onDidDismiss();t.focus()};const P=e("f",async(e,o,s,i,r,c,d)=>{if(!e.presented){return false}e.presented=false;try{e.el.style.setProperty("pointer-events","none");e.willDismiss.emit({data:o,role:s});const l=t(e);const u=e.leaveAnimation?e.leaveAnimation:n.get(i,l==="ios"?r:c);if(s!=="gesture"){await L(e,u,e.el,d)}e.didDismiss.emit({data:o,role:s});a.delete(e)}catch(l){console.error(l)}e.el.remove();return true});const B=e=>e.querySelector("ion-app")||e.body;const L=async(e,t,o,s)=>{o.classList.remove("overlay-hidden");const i=o.shadowRoot||e.el;const r=t(i,s);if(!e.animated||!n.getBoolean("animated",true)){r.duration(0)}if(e.keyboardClose){r.beforeAddWrite(()=>{const e=o.ownerDocument.activeElement;if(e&&e.matches("input, ion-input, ion-textarea")){e.blur()}})}const c=a.get(e)||[];a.set(e,[...c,r]);await r.play();return true};const T=e("g",(e,t)=>{let n;const o=new Promise(e=>n=e);j(e,t,e=>{n(e.detail)});return o});const j=(e,t,n)=>{const i=o=>{s(e,t,i);n(o)};o(e,t,i)};const I=e("i",e=>e==="cancel"||e===_);const C=e=>e();const F=e("s",(e,t)=>{if(typeof e==="function"){const o=n.get("_zoneGate",C);return o(()=>{try{return e(t)}catch(n){console.error(n)}})}return undefined});const _=e("B","backdrop")}}}));