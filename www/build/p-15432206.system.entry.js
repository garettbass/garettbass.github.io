System.register(["./p-596cb4f6.system.js","./p-f3667d5f.system.js","./p-2fd5b1c1.system.js","./p-53146974.system.js"],(function(t,e){"use strict";var i,s,o,n,r,a,c,l,p,h;return{setters:[function(t){i=t.r;s=t.e;o=t.h;n=t.H;r=t.d},function(t){a=t.g},function(t){c=t.e},function(t){l=t.b;p=t.h;h=t.a}],execute:function(){const d=".picker-col{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-box-sizing:content-box;box-sizing:content-box;contain:content}.picker-opts{position:relative;-ms-flex:1;flex:1;max-width:100%}.picker-opt{left:0;top:0;display:block;position:absolute;width:100%;border:0;text-align:center;text-overflow:ellipsis;white-space:nowrap;contain:strict;overflow:hidden;will-change:transform}[dir=rtl] .picker-opt,:host-context([dir=rtl]) .picker-opt{left:unset;right:unset;right:0}.picker-opt.picker-opt-disabled{pointer-events:none}.picker-opt-disabled{opacity:0}.picker-opts-left{-ms-flex-pack:start;justify-content:flex-start}.picker-opts-right{-ms-flex-pack:end;justify-content:flex-end}.picker-opt:active,.picker-opt:focus{outline:none}.picker-prefix{position:relative;-ms-flex:1;flex:1;text-align:end;white-space:nowrap}.picker-suffix{position:relative;-ms-flex:1;flex:1;text-align:start;white-space:nowrap}.picker-col{padding-left:4px;padding-right:4px;padding-top:0;padding-bottom:0;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-col{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}.picker-prefix,.picker-suffix,.picker-opts{top:77px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;color:inherit;font-size:20px;line-height:42px;pointer-events:none}.picker-opt{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:center center;transform-origin:center center;height:46px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;background:transparent;color:inherit;font-size:20px;line-height:42px;-webkit-backface-visibility:hidden;backface-visibility:hidden;pointer-events:auto}[dir=rtl] .picker-opt,:host-context([dir=rtl]) .picker-opt{-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}";const f=".picker-col{display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-box-sizing:content-box;box-sizing:content-box;contain:content}.picker-opts{position:relative;-ms-flex:1;flex:1;max-width:100%}.picker-opt{left:0;top:0;display:block;position:absolute;width:100%;border:0;text-align:center;text-overflow:ellipsis;white-space:nowrap;contain:strict;overflow:hidden;will-change:transform}[dir=rtl] .picker-opt,:host-context([dir=rtl]) .picker-opt{left:unset;right:unset;right:0}.picker-opt.picker-opt-disabled{pointer-events:none}.picker-opt-disabled{opacity:0}.picker-opts-left{-ms-flex-pack:start;justify-content:flex-start}.picker-opts-right{-ms-flex-pack:end;justify-content:flex-end}.picker-opt:active,.picker-opt:focus{outline:none}.picker-prefix{position:relative;-ms-flex:1;flex:1;text-align:end;white-space:nowrap}.picker-suffix{position:relative;-ms-flex:1;flex:1;text-align:start;white-space:nowrap}.picker-col{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-col{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.picker-prefix,.picker-suffix,.picker-opts{top:77px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;color:inherit;font-size:22px;line-height:42px;pointer-events:none}.picker-opt{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;height:43px;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out;background:transparent;color:inherit;font-size:22px;line-height:42px;-webkit-backface-visibility:hidden;backface-visibility:hidden;pointer-events:auto}.picker-prefix,.picker-suffix,.picker-opt.picker-opt-selected{color:var(--ion-color-primary, #3880ff)}";const g=t("ion_picker_column",class{constructor(t){i(this,t);this.optHeight=0;this.rotateFactor=0;this.scaleFactor=1;this.velocity=0;this.y=0;this.noAnimate=true;this.ionPickerColChange=s(this,"ionPickerColChange",7)}colChanged(){this.refresh()}async connectedCallback(){let t=0;let i=.81;const s=a(this);if(s==="ios"){t=-.46;i=1}this.rotateFactor=t;this.scaleFactor=i;this.gesture=(await e.import("./p-20812a74.system.js")).createGesture({el:this.el,gestureName:"picker-swipe",gesturePriority:100,threshold:0,passive:false,onStart:t=>this.onStart(t),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)});this.gesture.enable();this.tmrId=setTimeout(()=>{this.noAnimate=false;this.refresh(true)},250)}componentDidLoad(){const t=this.optsEl;if(t){this.optHeight=t.firstElementChild?t.firstElementChild.clientHeight:0}this.refresh()}disconnectedCallback(){cancelAnimationFrame(this.rafId);clearTimeout(this.tmrId);if(this.gesture){this.gesture.destroy();this.gesture=undefined}}emitColChange(){this.ionPickerColChange.emit(this.col)}setSelected(t,e){const i=t>-1?-(t*this.optHeight):0;this.velocity=0;cancelAnimationFrame(this.rafId);this.update(i,e,true);this.emitColChange()}update(t,e,i){if(!this.optsEl){return}let s=0;let o=0;const{col:n,rotateFactor:r}=this;const a=n.selectedIndex=this.indexForY(-t);const c=e===0?"":e+"ms";const p=`scale(${this.scaleFactor})`;const h=this.optsEl.children;for(let l=0;l<h.length;l++){const i=h[l];const d=n.options[l];const f=l*this.optHeight+t;let g="";if(r!==0){const t=f*r;if(Math.abs(t)<=90){s=0;o=90;g=`rotateX(${t}deg) `}else{s=-9999}}else{o=0;s=f}const x=a===l;g+=`translate3d(0px,${s}px,${o}px) `;if(this.scaleFactor!==1&&!x){g+=p}if(this.noAnimate){d.duration=0;i.style.transitionDuration=""}else if(e!==d.duration){d.duration=e;i.style.transitionDuration=c}if(g!==d.transform){d.transform=g;i.style.transform=g}if(x!==d.selected){d.selected=x;if(x){i.classList.add(m)}else{i.classList.remove(m)}}}this.col.prevSelected=a;if(i){this.y=t}if(this.lastIndex!==a){l();this.lastIndex=a}}decelerate(){if(this.velocity!==0){this.velocity*=x;this.velocity=this.velocity>0?Math.max(this.velocity,1):Math.min(this.velocity,-1);let t=this.y+this.velocity;if(t>this.minY){t=this.minY;this.velocity=0}else if(t<this.maxY){t=this.maxY;this.velocity=0}this.update(t,0,true);const e=Math.round(t)%this.optHeight!==0||Math.abs(this.velocity)>1;if(e){this.rafId=requestAnimationFrame(()=>this.decelerate())}else{this.velocity=0;this.emitColChange();p()}}else if(this.y%this.optHeight!==0){const t=Math.abs(this.y%this.optHeight);this.velocity=t>this.optHeight/2?1:-1;this.decelerate()}}indexForY(t){return Math.min(Math.max(Math.abs(Math.round(t/this.optHeight)),0),this.col.options.length-1)}onStart(t){if(t.event.cancelable){t.event.preventDefault()}t.event.stopPropagation();h();cancelAnimationFrame(this.rafId);const e=this.col.options;let i=e.length-1;let s=0;for(let o=0;o<e.length;o++){if(!e[o].disabled){i=Math.min(i,o);s=Math.max(s,o)}}this.minY=-(i*this.optHeight);this.maxY=-(s*this.optHeight)}onMove(t){if(t.event.cancelable){t.event.preventDefault()}t.event.stopPropagation();let e=this.y+t.deltaY;if(e>this.minY){e=Math.pow(e,.8);this.bounceFrom=e}else if(e<this.maxY){e+=Math.pow(this.maxY-e,.9);this.bounceFrom=e}else{this.bounceFrom=0}this.update(e,0,false)}onEnd(t){if(this.bounceFrom>0){this.update(this.minY,100,true);this.emitColChange();return}else if(this.bounceFrom<0){this.update(this.maxY,100,true);this.emitColChange();return}this.velocity=c(-u,t.velocityY*23,u);if(this.velocity===0&&t.deltaY===0){const e=t.event.target.closest(".picker-opt");if(e&&e.hasAttribute("opt-index")){this.setSelected(parseInt(e.getAttribute("opt-index"),10),k)}}else{this.y+=t.deltaY;if(Math.abs(t.velocityY)<.05){const e=t.deltaY>0;const i=Math.abs(this.y)%this.optHeight/this.optHeight;if(e&&i>.5){this.velocity=Math.abs(this.velocity)*-1}else if(!e&&i<=.5){this.velocity=Math.abs(this.velocity)}}this.decelerate()}}refresh(t){let e=this.col.options.length-1;let i=0;const s=this.col.options;for(let n=0;n<s.length;n++){if(!s[n].disabled){e=Math.min(e,n);i=Math.max(i,n)}}if(this.velocity!==0){return}const o=c(e,this.col.selectedIndex||0,i);if(this.col.prevSelected!==o||t){const t=o*this.optHeight*-1;this.velocity=0;this.update(t,k,true)}}render(){const t=this.col;const e="button";const i=a(this);return o(n,{class:{[i]:true,"picker-col":true,"picker-opts-left":this.col.align==="left","picker-opts-right":this.col.align==="right"},style:{"max-width":this.col.columnWidth}},t.prefix&&o("div",{class:"picker-prefix",style:{width:t.prefixWidth}},t.prefix),o("div",{class:"picker-opts",style:{maxWidth:t.optionsWidth},ref:t=>this.optsEl=t},t.options.map((t,i)=>o(e,{type:"button",class:{"picker-opt":true,"picker-opt-disabled":!!t.disabled},"opt-index":i},t.text))),t.suffix&&o("div",{class:"picker-suffix",style:{width:t.suffixWidth}},t.suffix))}get el(){return r(this)}static get watchers(){return{col:["colChanged"]}}});const m="picker-opt-selected";const x=.97;const u=90;const k=150;g.style={ios:d}}}}));